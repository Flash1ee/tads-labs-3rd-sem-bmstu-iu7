-E *компоновка*
-c компоновка + компиляция
hexdump - объектный файл - чтение
objdump -x просмотр .o файла в расшифровке .elf
obkdump -t symbol table  


## Сборка программы  
*Компоновка - ликовка* - релокация - слияние файлов, их полей .text ...  
Разрешение - сопоставление функций из разных файлов, вызываемых друг в друге.  
Происходит связывание функций из разных файлов через таблицу символов.  
До этого этапа на месте вызова вставляются заглушки в таблицу релокации, на этапе  
компоновки, на место заглушки помещается адрес той или иной функции.  
  
Компилятору нужны только объявления.  
## Библиотеки
### Статические
Группа объектных файлов, объединённых в один файл .lb  

```bash
ar options archive obj-files

ar r libprog.a mo1.o mod2.o  ... Создание файла
ar -t libprog.a Просмотр файлов, входящих в библиотеку
gcc -o hello hello.o libmodule.a Компиляция
gcc -o hello hello.o -lmodule -L. Компиляция и пооиск библиотек в текущей директории

```
После сборки программы можно удалить библиотеку, прогамма будет запускаться без наличия файла.  

#### Недостатки
- Одни и теже .о хранятся в разных файлах => при одновременном выполнении обе попадут в память.  
- После изменения кода в файлах библиотеки нужно заново собирать библиотеку с изменённой библиотекой.  
### Динамические
#### Плюсы
- Код общий для нескольких процессов => загрузится в память один раз
- Автоматически добавляются изменения при сборке.
#### Минусы
- Дин. библиотека не включается в таблицу символов , используется косвенная адресация (адреса не подставляются при компоновке) и это замедляет выполение кода.  
- Замедляется время запуска программы: при запуске включается компоновщик и связывает адреса библиотек(позднее связывание, динамическое). Замедление незначительно.
```shell
gcc -c -fPIC(position indefining code) *.c
gcc -shared -o libprog.so *.o
gcc -o prog prog.c libprog.so
gcc -o prog prog.c -lprog -L. (-lprog библиотека указывает без lib и без .so)


ldd hello.exe - просмотр связей в программе
наша либа not found - путь не системный
Запуск программы:
LD_LIBRARY_PATH=. lld hello.exe - указать поиск директории 
./hello.exe 
Динамическую Библиотеку удалять нельзя!
```
По умолчанию -l флаг при выборе м/у статической и динамической выберет вторую.  
Можно компилятору указать способ компоновки с двумя видами.  

## Память
### Сегменты памяти процесса

| Память        |
|---------------|
| code          |
| data          |
| bss           |
| heap          |break program
|               |
|               |
| stack         | sp
| argv, environ |
| core          |

#### Переменные
- автоматические *bss*
- статические *stack*
- инициализированные *data*
- статические неинициализированные *static* *bss* не хранятся
- динамические
#### Функции для работы с динамической памятью
-malloc()
-calloc()
-realloc()
-strdup() копирование строки + выделение памяти.
-asprintf()
- mmap() Для 4 ДЗ работа с файлом ~fseek()
- 
- 
## Контейнеры
*Контейнер* - тип данных для хранения информации разных типов / других.  

